IsStateFinal()
[note finish.jff does not have its own tm for testing as of now]

111QcccF1011B		R	Accept
111QcccF111B		A	Accept
111QcccF10111011B	A	Accept
11QcccF11110111B	R	Accept
11QcccF1111011B		A	Accept
1QFB			R	Accept

111Q1011D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F101111B1

Our "Celebrity" DPDA:
DPDA for {a^n b^n : n>=0}.
With initial state = 1 and increasing going to next, final state is 1111.
On in the string W a=1, b=11.
On the stack, Z=1, x=11
Lambda = m

d(q1, a, m) = q2,x // intial, final

d(q2, a, m) = q2,x
d(q2, b, x) = q3,m

d(q3, b, x) = q3,m
d(q3, m, Z) = q4,Z // final

q1 a m q2 x   q2 a m q2 x   q2 b  x   q3 m   q3 b  x   q3 m   q3 m Z   q4 Z
D1010m011011 D11010m011011 D1101101101110m D11101101101110m D1110m010111101

(note: assume D-PDA halts when has no transistion, though is always supposed to have transition using traps?)

string aaabbb:
10101011011011

PrePopFind():

Tests:

11Q11D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F
11Q1D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F
11Q111D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F
1Q11D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F
1Q1D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F

//go left to dump output, prepend an 'f' if l anded on F.

11Q11D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F	vvQwwE1010m011011E11010m011011E22011G1101110mD11101101101110mD1110m010111101F	Accept
11Q1D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F	vvQwE1010m011011E2201Gm011011D1101101101110mD11101101101110mD1110m010111101F	Accept
11Q111D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F	fv1Q111E1010m011011E11010m011011E1101101101110mE11101101101110mE1110m010111101F	Accept
1Q11D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F	fvQ11E1010m011011E11010m011011E1101101101110mE11101101101110mE1110m010111101F	Accept
1Q1D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F	vQwE201Gm011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F	Accept






"Celebrity" DPDA with w = aaabbb, aaabb, aabbb, (nothing), bbaa, c, aacbb:


10101011011011D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F101111	A	Accept
10101011011D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F101111	R	Accept
101011011011D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F101111	R	Accept
D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F101111	A	Accept
110110101D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F101111	R	Accept
111D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F101111	R	Accept
1010111011011D1010m011011D11010m011011D1101101101110mD11101101101110mD1110m010111101F101111	R	Accept



Lets try something that does multiple pushes.

a
Dq10a0m0q20i0j0k
Dq20m0i0q30i0k
Dq30m0i0q40m
Dq40m0k0q50m
Dq50m0j0q60m
Dq60m0k0q70m
Dq70m0Z0q80Z
Fq8

replace q1='1', a='1', i='11', Z='1':

1
D1010m011011011101111
D110m011011101101111
D1110m011011110m
D11110m011110111110m
D111110m011101111110m
D1111110m01111011111110m
D11111110m0101111111101
F11111111

remove new lines:

1D1010m011011011101111D110m011011101101111D1110m011011110mD11110m011110111110mD111110m011101111110mD1111110m01111011111110mD11111110m0101111111101F11111111

should emit 'A';

and it does...

Just one test though.

stylish aba:



Should emit 'A': (final replaced/collpased string)

a0b0a
Dq10a0Z0q20A0B0Z
Dq20b0A0q30A0C
Dq30m0A0q40m
Dq40a0C0q50m
Dq50m0B0q60m
Dq60m0Z0q70Z
Fq7


101101
D10101011011011101
D11011011011101101111
D1110m011011110m
D111101011110111110m
D111110m011101111110m
D1111110m010111111101
F1111111


101101D10101011011011101D11011011011101101111D1110m011011110mD111101011110111110mD111110m011101111110mD1111110m010111111101F1111111

Should emit 'A': (final replaced/collpased string)

a
Dq10a0Z0q20Z
Dq20m0Z0q30A
Dq30m0A0q40Z
Fq4

1
D1010101101
D110m010111011
D1110m0110111101
F1111

1D1010101101D110m010111011D1110m0110111101F1111

# this is modified above, but last pop cond from Z->A, should reject, it does.
1D1010101101D110m010111011D1110m010111101F1111


#this should reject, and not screw up our TM:


a0b0c
Dq10a0Z0q20A
Dq20b0A0q30m
Dq30c0Z0q40m
Fq4


10110111
D10101011011
D1101101101110m
D111011101011110m
F1111


10110111
D10101011011
D1101101101110m
D111011101011110m
F1111

10110111D10101011011D1101101101110mD111011101011110mF1111

#should accept:

10110111D10101011011D1101101101110mD11101110m011110mF1111

